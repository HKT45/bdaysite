<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Vasuki!</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <style>
        body, html {
            margin: 0;
            height: 100%;
            overflow: hidden;
        }

        .sky {
            position: absolute;
            top: 0;
            width: 100%;
            height: 70%;
            background: linear-gradient(to bottom, #87CEEB, #B0E0E6);
            z-index: 1;
        }

        .cloud {
            position: absolute;
            background: white;
            border-radius: 50%;
            filter: blur(3px);
            opacity: 0.7;
        }

        .cloud-1 { 
            width: 200px; 
            height: 60px; 
            top: 10%; 
            left: -100px; 
            animation: float-left 15s linear infinite;
        }

        .cloud-2 { 
            width: 250px; 
            height: 80px; 
            top: 25%; 
            right: -150px; 
            animation: float-right 20s linear infinite;
        }

        @keyframes float-left {
            0% { left: -200px; }
            100% { left: 100%; }
        }

        @keyframes float-right {
            0% { right: -250px; }
            100% { right: 100%; }
        }


        @keyframes walk {
            0% {
                transform: translateX(105px);
            }
            
            100% {
                transform: translateX(-470px);
            }
        }


.moving-object {
    animation: walk 10s linear infinite; /* Total animation time is 10s */
    animation-timing-function: linear; /* Smooth and continuous movement */
}


        .landscape {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
            background: linear-gradient(to bottom, #66BB6A, #2E7D32);
            z-index: 2;
        }

        .grass-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
            background-image: 
                linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%),
                linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);
            background-size: 20px 20px;
            z-index: 3;
            opacity: 0.3;
        }

        .pathway {
            position: absolute;
            bottom: 15%;
            width: 100%;
            height: 10%;
            background-color: #8B4513;
            z-index: 4;
        }

        .stickman-container {
            position: absolute;
            width: 50px;
            height: 100px;
            bottom: calc(15% + 10px);
            left: -50px;
            z-index: 5;
        }

        .birthday-message {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            font-family: Arial, sans-serif;
            font-size: 2em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 6;
            opacity: 0;
            transition: opacity 1s;
        }

        * {
            box-sizing: border-box;
        }

        .wrapper {
            width: 300px;
            height: 300px;
            position: absolute;
            bottom: 15%; /* Adjusted for pathway */
            left: 50%;
            z-index: 5;
            animation: walk 7s linear forwards;
        }

        .head {
            width: 50px;
            height: 60px;
            border: 5px solid black;
            border-radius: 50%;
            display: block;
            position: absolute;
            top: 21px;
            left: 133px;
            z-index: 5;
            animation: rock 1s alternate infinite ease-in-out;
            transform-origin: center bottom;
        }
        
        @keyframes rock {
            0% {
                transform: rotate(-10deg);
            }
            100% {
                transform: rotate(10deg);
            }
        }

        .torso {
            width: 6px;
            height: 100px;
            border: 3px solid black;
            display: block;
            position: absolute;
            top: 80px;
            left: 156px;
        }

        .leftleg {
            width: 6px;
            height: 100px;
            border: 3px solid black;
            display: block;
            position: absolute;
            top: 175px;
            left: 155px;
            transform: rotate(12deg);
            transform-origin: top;
            animation: walk-left-leg 2s infinite

        }

        .rightleg {
            width: 6px;
            height: 100px;
            border: 3px solid black;
            display: block;
            position: absolute;
            top: 175px;
            left: 157px;
            transform: rotate(-12deg);
            transform-origin: top;
            animation: walk-right-leg 2s infinite
        }

        .leftarm {
            width: 100px;
            height: 6px;
            border: 3px solid black;
            display: block;
            position: absolute;
            top: 86px;
            left: 57px;
            animation: wave 1s alternate infinite ease-in-out;
            transform-origin: 100%;
        }

        @keyframes wave {
            0% {
                transform: rotate(-20deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }

        .rightarm {
            width: 100px;
            height: 6px;
            border: 3px solid black;
            display: block;
            position: absolute;
            top: 86px;
            left: 161px;
            animation: wave2 1s alternate infinite ease-in-out;
            transform-origin: 0%;
        }
        @keyframes walk-right-leg{
	0%{
		transform: rotate(30deg);
		right: 30px}
	50%{
		transform: rotate(-30deg);
		right: -30px}
	100%{
		transform: rotate(30deg);
		right: 30px}
        }

        @keyframes walk-left-leg{
	0%{
		transform: rotate(-30deg);
		right: -30px}
	50%{
		transform: rotate(30deg);
		right: 30px}
	100%{
		transform: rotate(-30deg);
		right: -30px}
        }
    
        @keyframes wave2 {
            0% {
                transform: rotate(20deg);
            }
            100% {
                transform: rotate(-40deg);
            }
        }
        @keyframes blink-caret {
  from, to { border-color: transparent }
  50% { border-color: orange; }
}
        @keyframes typing {
  from { width: 0 }
  to { width: 100% }
}
    .wrapper h4{
        overflow: hidden; /* Ensures the content is not revealed until the animation */
        border-right: .15em solid orange; /* The typwriter cursor */
        white-space: nowrap; /* Keeps the content on a single line */
        margin: 0 auto; /* Gives that scrolling effect as the typing happens */
        letter-spacing: .15em; /* Adjust as needed */
        animation: 
            typing 3.5s steps(40, end),
            blink-caret .75s step-end infinite;
    }

    </style>
        </head>
        <body>
    <div class="sky">
        <div class="cloud cloud-1"></div>
        <div class="cloud cloud-2"></div>
    </div>
    <div class="landscape"></div>
    <div class="grass-overlay"></div>
    <div class="pathway"></div>
    <div class="birthday-message" id="birthdayMessage" style="font-family: cursive; display: none;">Happy Birthday Vasuki!</div>
    <div class="wrapper" id="wrapper">
        <h4 style="background-color: white; border-radius: 5px;" id="msg"></h4>
        <div class="head">
        </div>
        <div class="torso"></div>
        <div class="leftarm"></div>
        <div class="rightarm"></div>
        <div class="leftleg">
            <div class="leftfoot"></div>
        </div>
        <div class="rightleg">
            <div class="rightfoot"></div>
        </div>
        
    </div>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Confetti settings
        var count = 200;
        var defaults = {
            origin: { y: 0.7 }
        };

        function fire(particleRatio, opts) {
            confetti({
                ...defaults,
                ...opts,
                particleCount: Math.floor(count * particleRatio)
            });
        }

        function launchConfetti() {
            fire(0.25, {
                spread: 26,
                startVelocity: 55,
            });
            fire(0.2, {
                spread: 60,
            });
            fire(0.35, {
                spread: 100,
                decay: 0.91,
                scalar: 0.8
            });
            fire(0.1, {
                spread: 120,
                startVelocity: 25,
                decay: 0.92,
                scalar: 1.2
            });
            fire(0.1, {
                spread: 120,
                startVelocity: 45,
            });
        }

        // Stickman and birthday message animations
        const stickman = document.getElementById("wrapper");
        const textElement = document.getElementById("msg");
        const birthdayMessage = document.getElementById("birthdayMessage");

        setTimeout(() => {
            stickman.style.animationPlayState = "paused"; // Pause the animation
        }, 3105);

        stickman.addEventListener("click", () => {
            stickman.style.animationPlayState = "running"; // Resume animation
            
            setTimeout(() => {
                stickman.style.display = "none";
                launchConfetti(); // Fire confetti on click
                launchConfetti();
            }, 4000);
        });

        setTimeout(() => {
            birthdayMessage.style.opacity = '1';
        }, 500);

        // Typing text animation
        const texts = ["Hi This is Hari ðŸ‘€", "I am just here to say you ðŸ’œ", "Click on MY HAND"];
        let currentIndex = 0;

        const animateText = () => {
            textElement.textContent = texts[currentIndex];
            textElement.style.animation = "none"; // Reset the animation
            void textElement.offsetWidth; // Trigger reflow to restart the animation
            textElement.style.animation = `
                typing 3.5s steps(40, end),
                blink-caret .75s step-end infinite
            `;

            currentIndex = (currentIndex + 1) % texts.length;
            setTimeout(animateText, 3500); // Match typing animation duration
        };

        animateText();
    });
</script>

</body>
</html>
